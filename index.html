<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="LazyShop - Browse and shop amazing products easily">
    <meta name="theme-color" content="#0d6efd">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>LazyShop - Shop Amazing Products</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVJkEZSMUkrQ6usznlIcFfuGbzIrjw4oew2QszarSnsbIqnTYn3Z0zV1KSLeJw4bAk/gHccv2Pw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Global Styles -->
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./style/card.css">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="./public/logo.png" as="image">
</head>
<body>
    <!-- Header -->
    <m-header></m-header>
    
    <!-- Main Content -->
    <m-card-container></m-card-container>
    
    <!-- Modal -->
    <m-modal></m-modal>
    
    <!-- Footer -->
    <m-footer></m-footer>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    
    <!-- Web Components & Custom Elements -->
    <script type="module" src="./components/components.js"></script>
    
    <!-- Utility Functions (must load before other scripts) -->
    <script src="./scripts/utils.js"></script>
    
    <!-- Data Handling Scripts -->
    <script src="./scripts/handleData.js"></script>
    <script src="./scripts/loadData.js"></script>
    
    <!-- Load initial data -->
    <script>
        // Load initial data with error handling
        if (typeof loadData === 'function') {
            window.addEventListener('DOMContentLoaded', () => {
                loadData('AVATAR');
            });
        }
    </script>
    
    <!-- Dropdown, Search, Modal Close Handlers -->
    <script src="./scripts/dropdown.js"></script>
    <script src="./scripts/search.js"></script>
    <script src="./scripts/modalClose.js"></script>
    
    <!-- Cart Management -->
    <script src="./scripts/cart.js"></script>
    
    <!-- Pagination (optional) -->
    <script src="./scripts/pagination.js"></script>
    
    <!-- Theme Toggle (Dark Mode) -->
    <script src="./scripts/theme.js"></script>
    
    <!-- Analytics & Tracking (optional) -->
    <script>
        // Track user interactions
        window.addEventListener('search-completed', (e) => {
            console.log('Search completed:', e.detail);
        });
        
        window.addEventListener('cart-updated', (e) => {
            console.log('Cart updated:', e.detail);
        });
    </script>
</body>
</html>